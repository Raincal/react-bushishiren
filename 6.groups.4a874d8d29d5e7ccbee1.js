webpackJsonp([6],{156:function(e,t,u){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var d=u(4),o=a(d),i=u(9),r=a(i),n=u(10),l=a(n),s=u(11),f=a(s),c=u(13),p=a(c),v=u(12),_=a(v),m=u(3),g=(a(m),u(19)),h=u(25),N=a(h),G=u(43),k=u(95),y=(a(k),u(202)),M=a(y),C=u(76),j=a(C),E=(0,o["default"])("div",{className:"text"}),b=(0,o["default"])("i",{className:"dropdown icon"}),w=(0,o["default"])("div",{className:"divider"}),x=function(e){function t(){return(0,l["default"])(this,t),(0,p["default"])(this,(0,r["default"])(t).apply(this,arguments))}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"componentDidMount",value:function(){$(".ui.dropdown").dropdown(),$(".ui.dropdown .item").removeClass("active")}},{key:"isMaster",value:function(){var e=this.props.group;return N["default"].uid()===(e.master&&e.master._id)}},{key:"render",value:function(){var e=this.props,t=e.group,u=e.recommend,a=e.report,d=e.joinGroup,i=e.leaveGroup;return(0,o["default"])("div",{className:M["default"].cGroup},void 0,(0,o["default"])("div",{className:"ui grid","v-show":"group.master"},void 0,(0,o["default"])(j["default"],{url:"/users/"+t.master._id,src:t.master.avatar}),(0,o["default"])("div",{className:"eight wide column"},void 0,(0,o["default"])("div",{className:"ui segment"},void 0,(0,o["default"])(g.Link,{to:"/groups/"+t._id},void 0,t.cover?(0,o["default"])("img",{className:M["default"].photo,src:t.cover}):null),(0,o["default"])("h3",{className:"title"},void 0,(0,o["default"])(g.Link,{to:"/groups/"+t._id},void 0,t.name)),(0,o["default"])("pre",{className:"content"},void 0,t.description),(0,o["default"])("div",{},void 0,(0,o["default"])("span",{className:M["default"].tag},void 0,(0,G.idToFromNow)(t._id)),(0,o["default"])("span",{className:"tag right "+M["default"].rightTag},void 0,(0,o["default"])(g.Link,{to:"/groups/"+t._id},void 0,"成员(",t.memberCount,") "),(0,o["default"])("div",{className:"ui inline dropdown"},void 0,E,b,this.isMaster()?(0,o["default"])("div",{className:"menu"},void 0,(0,o["default"])("div",{className:"item","data-text":"",onClick:function(){return u("group",t._id)}},void 0,"推荐置顶"),(0,o["default"])("div",{className:"item","data-text":"",onClick:function(){return a("group",t._id)}},void 0,"举报"),w,(0,o["default"])(g.Link,{className:"item "+M["default"].edit,"data-text":"",to:"/groups/"+t._id+"/edit"},void 0,"编辑")):(0,o["default"])("div",{className:"menu"},void 0,(0,o["default"])("div",{className:"item","data-text":"",onClick:function(){return u("group",t._id)}},void 0,"推荐置顶"),(0,o["default"])("div",{className:"item","data-text":"",onClick:function(){return a("group",t._id)}},void 0,"举报"),t.hasJoined?(0,o["default"])("div",{className:"item","data-text":"",onClick:function(){return i(t._id)}},void 0,"退出诗社"):(0,o["default"])("div",{className:"item","data-text":"",onClick:function(){return d(t._id)}},void 0,"申请加入")))))))))}}]),t}(m.Component);t["default"]=x},157:function(e,t,u){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var d=u(156),o=a(d);t["default"]=o["default"]},202:function(e,t){e.exports={tag:"Group__tag___2QmKz",cGroup:"Group__cGroup___3jrLe",photo:"Group__photo___19Ah9",rightTag:"Group__rightTag___bdnl1 Group__tag___2QmKz",edit:"Group__edit___1dbjK"}},232:function(e,t,u){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function d(e){return{type:v,data:e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?20:arguments[1],u=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return function(a){return(0,c["default"])("groups/?uid="+e+"&limit="+t+"&lastId="+u).then(function(e){e.ok&&a(d(e.data))})}}function i(){var e=arguments.length<=0||void 0===arguments[0]?m:arguments[0],t=arguments[1],u=_[t.type];return u?u(e,t):e}Object.defineProperty(t,"__esModule",{value:!0}),t.actions=t.RECEIVE_GROUPS=void 0;var r=u(54),n=a(r),l=u(15),s=a(l);t.getGroups=o,t["default"]=i;var f=u(42),c=a(f),p=u(77),v=t.RECEIVE_GROUPS="RECEIVE_GROUPS",_=(t.actions={getGroups:o,joinGroup:p.joinGroup,leaveGroup:p.leaveGroup,recommend:p.recommend,report:p.report},(0,n["default"])({},v,function(e,t){return(0,s["default"])({},e,{groups:t.data})})),m={groups:[]}},467:function(e,t,u){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var d=u(4),o=a(d),i=u(15),r=a(i),n=u(9),l=a(n),s=u(10),f=a(s),c=u(11),p=a(c),v=u(13),_=a(v),m=u(12),g=a(m),h=u(3),N=a(h),G=u(56),k=a(G),y=u(57),M=a(y),C=u(157),j=a(C),E=(0,o["default"])(k["default"],{}),b=(0,o["default"])(M["default"],{}),w=function(e){function t(){return(0,f["default"])(this,t),(0,_["default"])(this,(0,l["default"])(t).apply(this,arguments))}return(0,g["default"])(t,e),(0,p["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.getGroups;e()}},{key:"render",value:function(){var e=this,t=this.props.groups;if(t.length>0)var u=t.map(function(t,u){return N["default"].createElement(j["default"],(0,r["default"])({key:u,group:t},e.props))});return(0,o["default"])("div",{},void 0,E,b,u)}}]),t}(h.Component);t["default"]=w},468:function(e,t,u){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var d=u(15),o=a(d),i=u(39),r=u(232),n=u(467),l=a(n),s=(0,o["default"])({},r.actions),f=function(e){return{groups:e.groups.groups}};t["default"]=(0,i.connect)(f,s)(l["default"])}});