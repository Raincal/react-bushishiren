webpackJsonp([12],{248:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){return{type:h,isFetching:!0,isAuthenticated:!1,creds:{mobile:e,password:t}}}function s(e){return{type:m,isFetching:!1,isAuthenticated:!0,token:e.token}}function u(e){return{type:I,isFetching:!1,isAuthenticated:!1,message:e}}function o(e,t){return function(i){return i(a(e,t)),(0,g["default"])("signin","post",{mobile:e,password:t}).then(function(e){if(e.ok){var t=e.data;for(var n in t)localStorage[n]=t[n];toastr.success("登录成功"),i(s(e.data))}else i(u(e.message))})}}function r(){var e=arguments.length<=0||void 0===arguments[0]?N:arguments[0],t=arguments[1],i=S[t.type];return i?i(e,t):e}Object.defineProperty(t,"__esModule",{value:!0}),t.actions=t.LOGIN_FAILURE=t.LOGIN_SUCCESS=t.LOGIN_REQUEST=void 0;var l,d=i(34),f=n(d),c=i(11),_=n(c);t.loginUser=o,t["default"]=r;var p=i(29),g=n(p),v=i(19),h=(n(v),t.LOGIN_REQUEST="LOGIN_REQUEST"),m=t.LOGIN_SUCCESS="LOGIN_SUCCESS",I=t.LOGIN_FAILURE="LOGIN_FAILURE",S=(t.actions={loginUser:o},l={},(0,f["default"])(l,h,function(e,t){return(0,_["default"])({},e,{isFetching:!0,isAuthenticated:!1,user:t.creds})}),(0,f["default"])(l,m,function(e,t){return(0,_["default"])({},e,{isFetching:!1,isAuthenticated:!0,errorMessage:""})}),(0,f["default"])(l,I,function(e,t){return(0,_["default"])({},e,{isFetching:!1,isAuthenticated:!1,errorMessage:t.message})}),l),N={isFetching:!1,isAuthenticated:!1}},506:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(4),s=n(a),u=i(5),o=n(u),r=i(6),l=n(r),d=i(7),f=n(d),c=i(9),_=n(c),p=i(8),g=n(p),v=i(3),h=n(v),m=i(13),I=i(776),S=n(I),N=(0,s["default"])("i",{className:"user icon"}),b=(0,s["default"])("i",{className:"lock icon"}),y=(0,s["default"])("br",{}),E=function(e){function t(){return(0,l["default"])(this,t),(0,_["default"])(this,(0,o["default"])(t).apply(this,arguments))}return(0,g["default"])(t,e),(0,f["default"])(t,[{key:"signin",value:function(e){var t=this;e.preventDefault();var i=this.refs.mobile.value.trim(),n=this.refs.password.value.trim();this.props.loginUser("+86"+i,n).then(function(){var e=t.props.location.query;t.props.isAuthenticated&&(e&&e.redirect?t.props.router.push(decodeURIComponent(e.redirect)):t.props.router.push("/"))})}},{key:"render",value:function(){var e=this;return(0,s["default"])("div",{className:S["default"].vSignin},void 0,(0,s["default"])("div",{className:S["default"].mask},void 0,(0,s["default"])("div",{className:S["default"].container},void 0,(0,s["default"])(m.Link,{className:S["default"].title,to:"/"},void 0,"不是诗人"),(0,s["default"])("p",{className:S["default"].subtitle},void 0,"一个分享与发现的地方"),(0,s["default"])("div",{className:"ui left icon input big fluid",style:{borderBottom:"1px solid #ddd"}},void 0,h["default"].createElement("input",{ref:"mobile",className:S["default"].mobile,type:"text",placeholder:"手机号"}),N),(0,s["default"])("div",{className:"ui left icon input big fluid"},void 0,h["default"].createElement("input",{ref:"password",className:S["default"].password,type:"password",placeholder:"密码"}),b),y,(0,s["default"])("a",{className:"ui button fluid "+S["default"].signInButton,onClick:function(t){return e.signin(t)}},void 0,"登录"),(0,s["default"])("div",{style:{marginTop:"5px"}},void 0,(0,s["default"])(m.Link,{to:"invite",style:{"float":"left",color:"#fff"}},void 0,"注册"),(0,s["default"])(m.Link,{to:"invite",style:{"float":"right",color:"#fff"}},void 0,"忘记密码?")))))}}]),t}(v.Component);t["default"]=(0,m.withRouter)(E)},507:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(32),s=i(248),u=i(506),o=n(u),r={loginUser:s.loginUser},l=function(e){return{isAuthenticated:e.signin.isAuthenticated,errorMessage:e.signin.errorMessage}};t["default"]=(0,a.connect)(l,r)(o["default"])},776:function(e,t){e.exports={vSignin:"SignIn__vSignin___v3EAT",signInButton:"SignIn__signInButton___3ZyDy",mask:"SignIn__mask___VgIXn",container:"SignIn__container___1nVFc",title:"SignIn__title___2D2JE",subtitle:"SignIn__subtitle___2VkaN",mobile:"SignIn__mobile___3CCQ-",password:"SignIn__password___13cwZ"}}});